<div class="topbar">

  <!-- Toggle button -->
  <button
    type="button"
    class="topbar__toggle"
    (click)="onToggle()"
    [attr.aria-label]="collapsed() ? 'Expandir menú lateral' : 'Colapsar menú lateral'"
    [attr.aria-expanded]="!collapsed()"
  >
    <i class="pi pi-bars" aria-hidden="true"></i>
  </button>

  <!-- Breadcrumb -->
  <nav class="topbar__breadcrumb" aria-label="Navegación de ruta">
    @for (crumb of breadcrumbs(); track crumb.label; let last = $last; let first = $first) {
      @if (!first) {
        <span class="topbar__breadcrumb-separator" aria-hidden="true">/</span>
      }
      @if (!last && crumb.route) {
        <a class="topbar__breadcrumb-link" [attr.href]="crumb.route">{{ crumb.label }}</a>
      } @else {
        <span class="topbar__breadcrumb-current" [attr.aria-current]="last ? 'page' : null">
          {{ crumb.label }}
        </span>
      }
    }
  </nav>

  <!-- Spacer -->
  <div class="topbar__spacer" aria-hidden="true"></div>

  <!-- Notification bell -->
  <button
    type="button"
    class="topbar__action-btn"
    aria-label="Notificaciones"
    title="Notificaciones"
  >
    <i class="pi pi-bell" aria-hidden="true"></i>
    <!-- Badge will be wired in a future phase (RF-044) -->
  </button>

  <!-- User menu -->
  <app-user-menu />

</div>
